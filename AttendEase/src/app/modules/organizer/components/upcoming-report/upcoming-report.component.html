<div class="relative h-screen">
  <div class="relative">
    <button
      (click)="toggleDropdown()"
      id="dropdownActionButton"
      class="inline-flex z-30 relative items-center text-white bg-light-background border focus:outline-none hover:bg-light-foregroud focus:ring-0 font-medium rounded-md text-sm px-3 py-1.5"
      type="button"
    >
      <span class="sr-only">Select Event</span>
      Select Event
      <svg
        class="w-2.5 h-2.5 ms-2.5"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 10 6"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="m1 1 4 4 4-4"
        />
      </svg>
    </button>

    <!-- Dropdown menu -->
    <div
      class="hidden bg-white divide-y divide-gray-100 border border-dark-border rounded-lg shadow dark:bg-gray-700 absolute z-40 mt-5 left-0"
      [class.hidden]="!dropdownOpen"
    >
      <ul
        class="absolute left-0 -top-0.5 bg-white border border-dark-border rounded-md divide-y divide-gray-300"
      >
        <li
          *ngFor="let event of report"
          (click)="selectEvent(event)"
          class="block px-4 py-2 text-sm font-medium capitalize hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer"
        >
          {{ event.event_name }}
        </li>
      </ul>
    </div>

    <div
      class="flex max-h-[400px] h-[400px] w-[calc(100%-288px)] gap-2"
      *ngIf="selectedEvent"
    >
      <div
        class="w-2/3 h-full border border-dark-border bg-white rounded-md shadow-md p-4"
      >
        <div class="w-full h-full">
          <p-chart
            type="line"
            [data]="lineChartData"
            [options]="lineChartOptions"
          ></p-chart>
        </div>
      </div>

      <div class="w-1/3 h-full">
        <app-organizer-calendar></app-organizer-calendar>
      </div>

      <!-- eventlisting -->
    </div>
  </div>

  <aside
    id="default-sidebar"
    class="fixed top-0 right-0 z-40 border-l bg-white border-dark-border w-72 h-screen transition-transform -translate-x-full sm:translate-x-0"
    aria-label="Sidebar"
  >
    <div class="h-full mt-16 px-3 py-4 overflow-y-auto dark:bg-gray-800">
      <h5 class="text-base font-medium mb-2 text-gray-900 dark:text-white">
        Event Listing
      </h5>

      <ul class="space-y-2 font-medium mb-20">
        <li *ngFor="let event of events">
          <div
            class="block w-full p-3 bg-white border border-gray-200 rounded-md shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"
          >
            <h5
              class="mb-2 text-sm font-bold tracking-tight text-gray-900 dark:text-white"
            >
              {{ event.event_name }}
            </h5>
            <div class="flex justify-between">
              <p class="font-normal text-xs text-gray-700">
                {{ event.event_location }}
              </p>
              <span class="text-xs">{{
                event.event_start_date | date : "MMM dd"
              }}</span>
            </div>
            <span class="font-normal text-xs text-gray-700">
              Registered Students:
              {{ event.registered_users_data?.length || 0 }}
            </span>
          </div>
        </li>
      </ul>
    </div>
  </aside>
</div>

<!-- <div class="flex-grow">
  <div
    class="w-full p-4 bg-white border border-dark-border rounded-md shadow sm:p-6 dark:bg-gray-800 dark:border-gray-700"
  >
    <h5
      class="mb-3 text-sm font-semibold text-gray-900 md:text-xl dark:text-white"
    >
      Details
    </h5>
    <ul class="my-2">
      <li>
        <div
          class="flex items-center p-1.5 text-sm font-bold text-gray-900"
        >
          <span class="flex-1 ms-3 whitespace-nowrap"> Name</span>
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded capitalize"
            >{{ selectedEvent.event_name }}</span
          >
        </div>
      </li>

      <li>
        <div
          class="flex items-center p-1.5 text-sm font-bold text-gray-900"
        >
          <span class="flex-1 ms-3 whitespace-nowrap"> Status</span>
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded capitalize"
            >{{ selectedEvent.event_status }}</span
          >
        </div>
      </li>
      <li>
        <div
          class="flex items-center p-1.5 text-sm font-bold text-gray-900"
        >
          <span class="flex-1 ms-3 whitespace-nowrap"> Date</span>
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
            >{{ selectedEvent.event_start_date | date : "longDate" }}
            -
            {{ selectedEvent.event_end_date | date : "longDate" }}</span
          >
        </div>
      </li>
      <li>
        <div
          class="flex items-center p-1.5 text-sm font-bold text-gray-900"
        >
          <span class="flex-1 ms-3 whitespace-nowrap">Time</span>
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
            >{{ selectedEvent.event_start_date | date : "shortTime" }}
            -
            {{ selectedEvent.event_end_date | date : "shortTime" }}</span
          >
        </div>
      </li>
      <li>
        <div
          class="flex items-center p-1.5 text-sm font-bold text-gray-900"
        >
          <span class="flex-1 ms-3 whitespace-nowrap"
            >Max Participants</span
          >
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
            >{{ selectedEvent.max_attendees }}</span
          >
        </div>
      </li>
      <li>
        <div
          class="flex items-center p-1.5 text-sm font-bold text-gray-900"
        >
          <span class="flex-1 ms-3 whitespace-nowrap"
            >Registered Participants</span
          >
          <span
            class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
            >{{ selectedEvent.registered_users }}</span
          >
        </div>
      </li>
    </ul>
  </div>
</div> -->
