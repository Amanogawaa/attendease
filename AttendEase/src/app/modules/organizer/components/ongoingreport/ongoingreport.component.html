<div
  class="border border-dark-border rounded-md p-1.5.5"
  *ngFor="let event of report"
>
  <div class="">
    <h3 class="text-center capitalize text-lg">
      {{ event.event_name }}
    </h3>
    <div class="w-full flex flex-wrap">
      <div class="w-full flex items-center gap-1.5 p-2">
        <div class="w-1/2">
          <div class="w-full flex flex-col items-center gap-1.5">
            <div class="w-full">
              <p-chart
                *ngIf="
                  event.registered_users > 0 ||
                  event.present_count > 0 ||
                  event.feedback_count > 0
                "
                type="doughnut"
                [data]="getCombinedChartData(event)"
                [options]="chartOptions"
              ></p-chart>
              <div
                *ngIf="
                  event.registered_users === 0 &&
                  event.present_count === 0 &&
                  event.feedback_count === 0
                "
                class="text-center"
              >
                <p>(ï¿£ ï¿£|||)</p>
                <span class="text-gray-500">No data available...</span>
              </div>
            </div>
          </div>
        </div>
        <div class="w-1/2">
          <div
            class="w-full p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 dark:bg-gray-800 dark:border-gray-700"
          >
            <h5
              class="mb-3 text-smfont-semibold text-gray-900 md:text-xl dark:text-white"
            >
              Details
            </h5>

            <ul class="my-4">
              <li>
                <div
                  class="flex items-center p-1.5 text-smfont-bold text-gray-900"
                >
                  <span class="flex-1 ms-3 whitespace-nowrap"
                    >Event Status</span
                  >
                  <span
                    class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded capitalize"
                    >{{ event.event_status }}</span
                  >
                </div>
              </li>
              <li>
                <div
                  class="flex items-center p-1.5 text-smfont-bold text-gray-900"
                >
                  <span class="flex-1 ms-3 whitespace-nowrap">Event Date</span>
                  <span
                    class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
                  >
                    {{ event.event_start_date | date : "longDate" }}-
                    {{ event.event_end_date | date : "longDate" }}</span
                  >
                </div>
              </li>

              <li>
                <div
                  class="flex items-center p-1.5 text-smfont-bold text-gray-900"
                >
                  <span class="flex-1 ms-3 whitespace-nowrap"
                    >Max Participants</span
                  >
                  <span
                    class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
                  >
                    {{ event.max_attendees }}</span
                  >
                </div>
              </li>
              <li>
                <div
                  class="flex items-center p-1.5 text-smfont-bold text-gray-900"
                >
                  <span class="flex-1 ms-3 whitespace-nowrap"
                    >Total Participants</span
                  >
                  <span
                    class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
                  >
                    {{ event.registered_users }}</span
                  >
                </div>
              </li>
              <li>
                <div
                  class="flex items-center p-1.5 text-smfont-bold text-gray-900"
                >
                  <span class="flex-1 ms-3 whitespace-nowrap"
                    >Student Course</span
                  >
                  <span
                    class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
                  >
                    <ng-container
                      *ngFor="let course of event.registered_by_course"
                    >
                      {{ course.course }}: {{ course.count }}<br />
                    </ng-container>
                  </span>
                </div>
              </li>
              <li>
                <div
                  class="flex items-center p-1.5 text-smfont-bold text-gray-900"
                >
                  <span class="flex-1 ms-3 whitespace-nowrap">
                    Student Year Level</span
                  >
                  <span
                    class="inline-flex items-center justify-center px-2 py-0.5 ms-3 text-xs font-medium text-gray-500 bg-gray-200 rounded"
                  >
                    <ng-container
                      *ngFor="let year_level of event.registered_by_year_level"
                    >
                      {{ year_level.year_level }}: {{ year_level.count }}<br />
                    </ng-container>
                  </span>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
